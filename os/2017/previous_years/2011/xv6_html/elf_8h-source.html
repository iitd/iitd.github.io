<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>xv6: xv6/elf.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>xv6/elf.h</h1><a href="elf_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Format of an ELF executable file</span>
<a name="l00002"></a>00002 
<a name="l00003"></a><a class="code" href="elf_8h.html#bb1c2e5626667aacc7b3efd269a6c0eb">00003</a> <span class="preprocessor">#define ELF_MAGIC 0x464C457FU  // "\x7FELF" in little endian</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span>
<a name="l00005"></a>00005 <span class="comment">// File header</span>
<a name="l00006"></a><a class="code" href="structelfhdr.html">00006</a> <span class="keyword">struct </span><a class="code" href="structelfhdr.html">elfhdr</a> {
<a name="l00007"></a><a class="code" href="structelfhdr.html#28ee8116d69b533277311c5f3773b6b2">00007</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structelfhdr.html#28ee8116d69b533277311c5f3773b6b2">magic</a>;  <span class="comment">// must equal ELF_MAGIC</span>
<a name="l00008"></a><a class="code" href="structelfhdr.html#22ec6f2383f0488ee18a18673398f201">00008</a>   <a class="code" href="types_8h.html#65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="structelfhdr.html#22ec6f2383f0488ee18a18673398f201">elf</a>[12];
<a name="l00009"></a><a class="code" href="structelfhdr.html#2cd2eaf0c952e30f8196890787ef68fe">00009</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#2cd2eaf0c952e30f8196890787ef68fe">type</a>;
<a name="l00010"></a><a class="code" href="structelfhdr.html#17113c58d39b044bb1ae78733a8c68fc">00010</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#17113c58d39b044bb1ae78733a8c68fc">machine</a>;
<a name="l00011"></a><a class="code" href="structelfhdr.html#bb1c8274f47cfdbbcefe44af2d5c723d">00011</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structelfhdr.html#bb1c8274f47cfdbbcefe44af2d5c723d">version</a>;
<a name="l00012"></a><a class="code" href="structelfhdr.html#d40755e1b2c6efc3ec0ad95889f743a5">00012</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structelfhdr.html#d40755e1b2c6efc3ec0ad95889f743a5">entry</a>;
<a name="l00013"></a><a class="code" href="structelfhdr.html#1d463f67fcf951c06cfaa37850004c51">00013</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structelfhdr.html#1d463f67fcf951c06cfaa37850004c51">phoff</a>;
<a name="l00014"></a><a class="code" href="structelfhdr.html#465ccdf83d0e26d129d723a493a6e764">00014</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structelfhdr.html#465ccdf83d0e26d129d723a493a6e764">shoff</a>;
<a name="l00015"></a><a class="code" href="structelfhdr.html#2f1e0957c83938630ef0ed074830df03">00015</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structelfhdr.html#2f1e0957c83938630ef0ed074830df03">flags</a>;
<a name="l00016"></a><a class="code" href="structelfhdr.html#effe5743cc720e5795af5d17b6fd6928">00016</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#effe5743cc720e5795af5d17b6fd6928">ehsize</a>;
<a name="l00017"></a><a class="code" href="structelfhdr.html#c636a4a9c4c61933c6044275ed687bc9">00017</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#c636a4a9c4c61933c6044275ed687bc9">phentsize</a>;
<a name="l00018"></a><a class="code" href="structelfhdr.html#3eff58d58a3ee83aa53d7ffdebdb6b5b">00018</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#3eff58d58a3ee83aa53d7ffdebdb6b5b">phnum</a>;
<a name="l00019"></a><a class="code" href="structelfhdr.html#eedc5375e3f67e8dda6351e0e80b8e02">00019</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#eedc5375e3f67e8dda6351e0e80b8e02">shentsize</a>;
<a name="l00020"></a><a class="code" href="structelfhdr.html#ebf9526933b9f0502bdbafacce3734c1">00020</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#ebf9526933b9f0502bdbafacce3734c1">shnum</a>;
<a name="l00021"></a><a class="code" href="structelfhdr.html#84f3d7712c99bfea3f4be42728dc0a0e">00021</a>   <a class="code" href="types_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structelfhdr.html#84f3d7712c99bfea3f4be42728dc0a0e">shstrndx</a>;
<a name="l00022"></a>00022 };
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">// Program section header</span>
<a name="l00025"></a><a class="code" href="structproghdr.html">00025</a> <span class="keyword">struct </span><a class="code" href="structproghdr.html">proghdr</a> {
<a name="l00026"></a><a class="code" href="structproghdr.html#42ea22dcdaa75a9cbdf7cd366b85e9ea">00026</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#42ea22dcdaa75a9cbdf7cd366b85e9ea">type</a>;
<a name="l00027"></a><a class="code" href="structproghdr.html#4bb7b22e263e1801f382a034b35e94cc">00027</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#4bb7b22e263e1801f382a034b35e94cc">offset</a>;
<a name="l00028"></a><a class="code" href="structproghdr.html#7634e7d9f71f2e08f86b3373c95ea900">00028</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#7634e7d9f71f2e08f86b3373c95ea900">va</a>;
<a name="l00029"></a><a class="code" href="structproghdr.html#cfb565afa7cc0c3281f90f3f4a34ccd4">00029</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#cfb565afa7cc0c3281f90f3f4a34ccd4">pa</a>;
<a name="l00030"></a><a class="code" href="structproghdr.html#95dee0f1864ec1602f1ff6998ac00df0">00030</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#95dee0f1864ec1602f1ff6998ac00df0">filesz</a>;
<a name="l00031"></a><a class="code" href="structproghdr.html#9f703ade191af1054b3de797d8167d89">00031</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#9f703ade191af1054b3de797d8167d89">memsz</a>;
<a name="l00032"></a><a class="code" href="structproghdr.html#b3ad45ccf4b38dec384206ecbd099076">00032</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#b3ad45ccf4b38dec384206ecbd099076">flags</a>;
<a name="l00033"></a><a class="code" href="structproghdr.html#9a7d455ad6830cd1a37aa324911880ec">00033</a>   <a class="code" href="types_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structproghdr.html#9a7d455ad6830cd1a37aa324911880ec">align</a>;
<a name="l00034"></a>00034 };
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">// Values for Proghdr type</span>
<a name="l00037"></a><a class="code" href="elf_8h.html#6a45c035b7a2930e62ac97a6bd8121e9">00037</a> <span class="preprocessor">#define ELF_PROG_LOAD           1</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a>00039 <span class="comment">// Flag bits for Proghdr flags</span>
<a name="l00040"></a><a class="code" href="elf_8h.html#c9608330ae745d90d7b59374fe827538">00040</a> <span class="preprocessor">#define ELF_PROG_FLAG_EXEC      1</span>
<a name="l00041"></a><a class="code" href="elf_8h.html#18b2debb63e51b9f66a702e3625a8622">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define ELF_PROG_FLAG_WRITE     2</span>
<a name="l00042"></a><a class="code" href="elf_8h.html#63df5e8bbab03913953e0042936f32c6">00042</a> <span class="preprocessor"></span><span class="preprocessor">#define ELF_PROG_FLAG_READ      4</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jan 7 12:25:49 2011 for xv6 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
